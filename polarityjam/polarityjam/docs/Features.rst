Features
========

The following table gives an overview of all available features with an explanation and an example output (depending on
your image an parameter configuration the number of features you get might vary). The features can be structured in
several categories:

+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Category                        | Configuration                    | Explanation                                                                                                                                                         |
+=================================+==================================+=====================================================================================================================================================================+
| single cell features            | always                           | The general features extracted from the image.                                                                                                                      |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| nucleus features*               | nucleus channel given            | All features belonging to the nucleus of the cell.                                                                                                                  |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| organelle features*             | organelle channel given          | All features belonging to the organelle of a cell.                                                                                                                  |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| junction features*              | junction channel given           | All features belonging to the junctions of a cell                                                                                                                   |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| marker features*                | expression marker channel given  | All features belonging to the expression marker. If a nucleus channel is given, marker nucleus features and marker cytosol features are automatically appended.     |
|  - marker membrane features     |                                  |                                                                                                                                                                     |
|  - marker nucleus features      |                                  |                                                                                                                                                                     |
|  - marker cytosol features      |                                  |                                                                                                                                                                     |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| neighborhood features           | always                           | Statistical properties of a feature of interest (FOI) specified. Includes neighborhood statistics. Feature of Interest (FOI) must be specified. Default is "area".  |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| group features                  | always                           | Group properties. Image wise. Includes Morans I correlation analysis. Feature of interest (FOI) must be specified.                                                  |
+---------------------------------+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+


.. note::
    Features highlighted with a * are optional.

Single cell features
--------------------
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| Featue                     | Explanation                                                                                                                                |
+============================+============================================================================================================================================+
| filename                   | The filename where the cell was found.                                                                                                     |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| label                      | The cellpose segmentation label of the particular cell.                                                                                    |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_X                     | The X coordinate of the center of the cell.                                                                                                |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_Y                     | The Y coordinate of the center of the cell.                                                                                                |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_shape_orientation     | Long axis of ellipsoid fit of the cell.                                                                                                    |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_major_axis_length     | Length of the major axis of the cell.                                                                                                      |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_minor_axis_length     | Length of the minor axis of the cell.                                                                                                      |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_eccentricity          | Value for the elongation of the cell. Between 0 and 1, where 0 correspond to a perfect circular cell and 1 for a strongly elongated cell.  |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_major_to_minor_ratio  | Ratio between the major and the minor axis of the cell.                                                                                    |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_area                  | The area of the cell.                                                                                                                      |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+
| cell_perimeter             | The perimeter of the cell.                                                                                                                 |
+----------------------------+--------------------------------------------------------------------------------------------------------------------------------------------+



Nucleus features
----------------
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| Feature                           | Explanation                                                                                                                                        |
+===================================+====================================================================================================================================================+
| nuc_X                             | X position of the cell nucleus.                                                                                                                    |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_Y                             | Y position of the cell nucleus.                                                                                                                    |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_displacement_orientation_rad  | The displacement orientation of the nucleus from the center of the cell in rad                                                                     |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_displacement_orientation_deg  | The displacement orientation of the nucleus from the center of the cell in deg                                                                     |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_shape_orientation             | Long axis of ellipsoid fit of the nucleus.                                                                                                         |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_major_axis_length             | The length of the major axis of the nucleus.                                                                                                       |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_minor_axis_length             | The length of the minor axis of the nucleus.                                                                                                       |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_area                          | The area of the nucleus.                                                                                                                           |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_perimeter_nuc                 | The perimeter of the nucleus.                                                                                                                      |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_eccentricity                  | Value for the elongation of the nucleus. Between 0 and 1, where 0 correspond to a perfect cicular nucleus and 1 for a strongly elongated nucleus.  |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| nuc_major_to_minor_ratio          | Ratio between the major and the minor axis of the nucleus.                                                                                         |
+-----------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+




Organelle features
------------------
+----------------------------+--------------------------------------------------------+
| Feature                    | Explanation                                            |
+============================+========================================================+
| organelle_X_golgi          | The X coordinate of the center of the cell organelle.  |
+----------------------------+--------------------------------------------------------+
| organelle_Y_golgi          | The Y coordinate of the center of the cell organelle.  |
+----------------------------+--------------------------------------------------------+
| organelle_distance         | Distance from cell organelle to the nucleus.           |
+----------------------------+--------------------------------------------------------+
| organelle_orientation_rad  | The orientation in rad of the organelle to the nucleus |
+----------------------------+--------------------------------------------------------+
| organelle_orientation_deg  | The orientation in deg of the organelle to the nucleus |
+----------------------------+--------------------------------------------------------+




Marker features
---------------
+-----------------------------+-----------------------------------------------------------+
| Feature                     | Explanation                                               |
+=============================+===========================================================+
| marker_mean_expr            | Mean expression of the channel with the marker.           |
+-----------------------------+-----------------------------------------------------------+
| marker_sum_expr             | The absolute sum of the expression of the marker.         |
+-----------------------------+-----------------------------------------------------------+
| marker_centroid_X           | The X coordinate of the center of the marker expression.  |
+-----------------------------+-----------------------------------------------------------+
| marker_centroid_Y           | The Y coordinate of the center of the marker expression.  |
+-----------------------------+-----------------------------------------------------------+
| marker_polarity_rad         | Intrinsic asymmetry of the cell.                          |
+-----------------------------+-----------------------------------------------------------+
| marker_polarity_deg         | Intrinsic asymmetry of the cell.                          |
+-----------------------------+-----------------------------------------------------------+
| marker_mean_expression_mem  | Mean membrane expression.                                 |
+-----------------------------+-----------------------------------------------------------+
| marker_sum_expression_mem   | The absolut sum of the membrane expression.               |
+-----------------------------+-----------------------------------------------------------+
| marker_mean_expression_nuc  | The mean expression of the nucleus.                       |
+-----------------------------+-----------------------------------------------------------+
| marker_sum_expression_nuc   | The absolut sum of the nucleus expression.                |
+-----------------------------+-----------------------------------------------------------+
| marker_mean_expression_cyt  | The mean expression of the cell cytosol.                  |
+-----------------------------+-----------------------------------------------------------+
| marker_sum_expression_cyt   | The absolut sum of the cell cytosol expression.           |
+-----------------------------+-----------------------------------------------------------+




Junction features
-----------------

+----------------------------------------+----------------------------------------------------------------+
| Feature                                | Explanation                                                    |
+========================================+================================================================+
| junction_centroid_X                    | The X coordinate of the center of the junction expression.     |
+----------------------------------------+----------------------------------------------------------------+
| junction_centroid_Y                    | The Y coordinate of the center of the junction expression.     |
+----------------------------------------+----------------------------------------------------------------+
| junction_perimeter                     | The perimeter of the junction area.                            |
+----------------------------------------+----------------------------------------------------------------+
| junction_protein_area                  | The area with junction protein expression.                     |
+----------------------------------------+----------------------------------------------------------------+
| junction_mean_intensity                | The mean junction intensity value.                             |
+----------------------------------------+----------------------------------------------------------------+
| junction_protein_intensity             | The mean protein intensity by area.                            |
+----------------------------------------+----------------------------------------------------------------+
| junction_interface_occupancy           | The  ratio between junction area and junction protein area.    |
+----------------------------------------+----------------------------------------------------------------+
| junction_intensity_per_interface_area  | tba                                                            |
+----------------------------------------+----------------------------------------------------------------+
| junction_cluster_density               | ratio of junction protein intensity and junction protein area  |
+----------------------------------------+----------------------------------------------------------------+


Neighborhood features
---------------------
+---------------------------+-------------------------------------------------------------------------------------------+
| Feature                   | Explanation                                                                               |
+===========================+===========================================================================================+
| neighbors_cell            | The absolut number of neighbors of the cell.                                              |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_mean_dif_1st    | Mean difference of the feature of interest to all first neighbors.                        |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_median_dif_1st  | Median difference of the feature of interest to all first neighbors.                      |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_stddev_dif_1st  | Standard derivation of the difference of the feature of interest to all first neighbors.  |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_range_dif_1st   | Maximal range of difference of the feature of interest to all first neighbors.            |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_mean_dif_2nd    | Mean difference of the feature of interest to all second neighbors.                       |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_median_dif_2nd  | Median difference of the feature of interest to all second neighbors.                     |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_stddev_dif_2nd  | Standard derivation of the difference of the feature of interest to all second neighbors. |
+---------------------------+-------------------------------------------------------------------------------------------+
| neighbors_range_dif_2nd   | Maximal range of difference of the feature of interest to all second neighbors.           |
+---------------------------+-------------------------------------------------------------------------------------------+



Group features
--------------

+----------------+--------------------------------------+
| Feature        | Explanation                          |
+================+======================================+
| morans_i       | Statistical correlation analysis     |
+----------------+--------------------------------------+
| morans_p_norm  | P-norm of the correlation analysis.  |
+----------------+--------------------------------------+

